<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="header-container">
    <h1>U B E R</h1>
    <img src="assets/images/logohome.png" alt="Logo" class="pin-image">
  </div>

  <div class="box">
    <form [formGroup]="loginForm" (ngSubmit)="login()">
      <ion-list>
        <ion-item>
          <ion-input 
            formControlName="email" 
            type="email" 
            label="Correo"
            [class.invalid]="isSubmitted && errorControl['email'].errors">
          </ion-input>
        </ion-item>
        <div class="error-message" *ngIf="isSubmitted && errorControl['email'].errors?.['required']">
          El correo es requerido
        </div>
        <div class="error-message" *ngIf="isSubmitted && errorControl['email'].errors?.['email']">
          Por favor ingrese un correo válido
        </div>

        <ion-item>
          <ion-input 
            formControlName="password" 
            type="password" 
            label="Contraseña"
            [class.invalid]="isSubmitted && errorControl['password'].errors">
          </ion-input>
        </ion-item>
        <div class="error-message" *ngIf="isSubmitted && errorControl['password'].errors?.['required']">
          La contraseña es requerida
        </div>
        <div class="error-message" *ngIf="isSubmitted && errorControl['password'].errors?.['minlength']">
          La contraseña debe tener al menos 6 caracteres
        </div>
      </ion-list>

      <ion-button type="submit" color="success" expand="block">Acceder</ion-button>
      <ion-button color="danger" expand="block" (click)="recuperarcontra()">
        Recuperar contraseña
      </ion-button>
    </form>

    <ion-button expand="block" (click)="registro()">
      Registrarse
    </ion-button>
  </div>
</ion-content>